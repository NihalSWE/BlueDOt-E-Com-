{% extends 'blue_dot/base.html' %}

{% block content %}
<div class="container py-10">
    <h3 class="text-3xl font-semibold mb-6">Search Results for "<span class="text-indigo-600">{{ query }}</span>"</h3>

    {% if results %}
    <div class="row">
        {% for product in results %}
        <div class="col-xl-4 col-lg-6 col-md-6 col-sm-12">
            <div class="product_wrapper two mb-30">
                  <div class="product__item p-relative">
                     <div class="product__top-brand d-flex justify-content-between mb-15">
                           <div class="product__top-price">
                              <a href="{% url 'product_detail' slug=product.slug %}">{% if product.final_price < product.base_price %}
                               <span style="text-decoration: line-through; color: #999;">৳ {{ product.base_price }}</span>
                               <span style="color: #E60000; font-weight: bold;">৳ {{ product.final_price }}</span>
                           {% else %}
                               ৳ {{ product.base_price }}
                           {% endif %}
</a>
                           </div>
                     </div>
                     <div class="product__thumb w-img p-relative fix mb-10">
                        <a href="{% url 'product_detail' slug=product.slug %}">
                           <img src="{{ product.thumbnail.url }}" alt="{{ product.name }}">
                        </a>
                        <div class="product__action d-flex flex-column flex-wrap">
                          
                           <button type="button" class="product-action-btn" data-bs-toggle="modal" data-bs-target="#productModal">
                              <svg width="19" height="16" viewBox="0 0 19 16" fill="none" xmlns="http://www.w3.org/2000/svg">
                                 <path d="M9.49943 5.34978C8.23592 5.34978 7.20896 6.37595 7.20896 7.63732C7.20896 8.89774 8.23592 9.92296 9.49943 9.92296C10.7629 9.92296 11.7908 8.89774 11.7908 7.63732C11.7908 6.37595 10.7629 5.34978 9.49943 5.34978M9.49941 11.3456C7.45025 11.3456 5.78394 9.68213 5.78394 7.63738C5.78394 5.59169 7.45025 3.92725 9.49941 3.92725C11.5486 3.92725 13.2158 5.59169 13.2158 7.63738C13.2158 9.68213 11.5486 11.3456 9.49941 11.3456" fill="currentColor"></path>
   
                                 <path d="M1.49145 7.63683C3.25846 11.5338 6.23484 13.8507 9.50001 13.8517C12.7652 13.8507 15.7416 11.5338 17.5086 7.63683C15.7416 3.7408 12.7652 1.42386 9.50001 1.42291C6.23579 1.42386 3.25846 3.7408 1.49145 7.63683V7.63683ZM9.50173 15.2742H9.49793H9.49698C5.56775 15.2714 2.03943 12.5219 0.0577129 7.91746C-0.0192376 7.73822 -0.0192376 7.53526 0.0577129 7.35601C2.03943 2.75248 5.5687 0.00306822 9.49698 0.000223018C9.49888 -0.000725381 9.49888 -0.000725381 9.49983 0.000223018C9.50173 -0.000725381 9.50173 -0.000725381 9.50268 0.000223018C13.4319 0.00306822 16.9602 2.75248 18.942 7.35601C19.0199 7.53526 19.0199 7.73822 18.942 7.91746C16.9612 12.5219 13.4319 15.2714 9.50268 15.2742H9.50173Z" fill="currentColor"></path>
   
                              </svg>
                              <span class="product-action-tooltip">Quick view</span>
                           </button>
                           
                        </div>
                        <div class="product__add transition-3">
                           <button type="button" class="product-add-cart-btn w-100">
                              Add to Cart
                           </button>
                        </div>
                     </div>
                     <div class="product__content text-center">
                        <div class="product__content-wrapper">
                           <h3 class="product__title">
                              <a href="{% url 'product_detail' slug=product.slug %}">{{ product.name }}</a>
                           </h3>
                        </div>
                        <div class="product__rating d-flex justify-content-center">
                           <span>
                              <i class="fa-solid fa-star"></i>
                           </span>
                           <span>
                              <i class="fa-solid fa-star"></i>
                           </span>
                           <span>
                              <i class="fa-solid fa-star"></i>
                           </span>
                           <span>
                              <i class="fa-solid fa-star"></i>
                           </span>
                           <span>
                              <i class="fa-solid fa-star"></i>
                           </span>
                        </div>
                     </div>
                  </div>
            </div>
        </div>
        {% endfor %}
    </div>
    {% else %}
    <div class="bg-yellow-50 text-yellow-800 border border-yellow-200 p-6 rounded-xl shadow-sm">
        <p class="text-lg font-medium">No results found for "<strong>{{ query }}</strong>".</p>
        <p class="mt-1 text-sm text-gray-600">Try searching for another keyword.</p>
    </div>
    {% endif %}
</div>
{% endblock %}